{% extends "base.html" %}
    
    {% block title %}<title>Busca tu mascota</title>{% endblock %}
    {% block main %}
        
        <main>
            <section class="buscar_registrar">
                <p class="subtitulo">Busca tu mascota</p>
                <button class="boton_buscar_registrar"><a href="/buscadas">buscar</a></button>
            </section>

            <br>
            <br>
            
            <section class="buscar_registrar">
                <p class="subtitulo">Registra una mascota perdida</p>
                <button class="boton_buscar_registrar"><a href="/registrar">registrar</a></button>
            </section>
            
            <section id="secion-de-mapa">
                <h3>Busca tu mascota</h3>
                <div class="place-autocomplete-card" id="place-autocomplete-card">
                    <p>Buscar</p>
                </div>
                <div id="map"></div>
        
                <!-- Incluye el script generado dinÃ¡micamente -->
                <script src="{{ url_for('static', filename='/script/cargarMap.js') }}"></script>
                <script src="{{ url_for('static', filename='/script/moduloDeTablas.js') }}"></script>
                <script>
                    {{ scriptDeMapa | safe }}
                    
                    // Llamar a initMap con los datos necesarios
                    document.addEventListener('DOMContentLoaded', function() {
                        initMap();
                    });
                </script>
                <script>
                    document.addEventListener("DOMContentLoaded", function() {
                        var token = "{{ token }}";
                        if (token && token !== "") {
                            localStorage.setItem('token', token);
                        }
                        console.log(localStorage.getItem('token'));
                    });
        
                </script>
            </section>
        </main>

    {% endblock %}
